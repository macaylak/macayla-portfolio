/* globals
css
   - data-mode controls neutrals (bg/surface/text) + (in LIGHT) forces lotus palette accents
   - data-theme controls accent palette (primary/plum/copper) for DARK mode
   - globals owns: tokens, reset, body background, lightbox, scroll offset
*/

/* -----------------------------
   Tokens (fallback)
------------------------------ */
:root{
  /* neutrals (fallback = dark) */
  --bg: #070a09;
  --bg2: #0b1510;
  --surface: rgba(15, 31, 24, 0.72);
  --surface2: rgba(18, 39, 31, 0.62);
  --text: #f7f4d5;
  --muted: rgba(247, 244, 213, 0.78);
  --border: rgba(247, 244, 213, 0.12);
  --shadow: 0 20px 65px rgba(0, 0, 0, 0.42);

  /* palette (fallback = pomegranate for DARK) */
  --primary: #B3122A;
  --primary2: #DB4E48;
  --plum: #4A0E1E;
  --copper: #D19A6A;

  /* layout constants */
  --radius: 18px;
  --maxw: 1120px;
  --navH: 72px;
  --ease: cubic-bezier(0.2, 0.8, 0.2, 1);

  --gradA: var(--primary);
  --gradB: var(--copper);
}

/* -----------------------------
   Mode (neutrals)
------------------------------ */
:root[data-mode="dark"]{
  --bg: #070a09;
  --bg2: #0b1510;
  --surface: rgba(15, 31, 24, 0.72);
  --surface2: rgba(18, 39, 31, 0.62);
  --text: #f7f4d5;
  --muted: rgba(247, 244, 213, 0.78);
  --border: rgba(247, 244, 213, 0.12);
  --shadow: 0 20px 65px rgba(0, 0, 0, 0.42);
  --gradA: color-mix(in srgb, var(--primary) 92%, #ffffff);
  --gradB: color-mix(in srgb, var(--copper) 78%, #ffffff);
}

/* LIGHT MODE RESET — lotus palette */
:root[data-mode="light"]{
  /* warm paper base (less pale, more grounded) */
  --bg: #f6efe4;     /* warm ivory */
  --bg2: #efe2cf;    /* beige shadow */
  --surface: rgba(255, 251, 244, 0.92);
  --surface2: rgba(255, 246, 236, 0.84);

  --text: #1f1a14;     /* warm near-black */
  --muted: rgba(31, 26, 20, 0.74);

  /* stronger borders so it doesn't wash out */
  --border: rgba(95, 78, 52, 0.30);
  /* sunlit depth (warmer shadow, more present) */
  --shadow: 0 18px 46px rgba(42, 32, 22, 0.16);

  /* FORCE the palette from your image in light mode */
  --plum:   #5f4e34;  /* olive drab camouflage */
  --primary2:#ad9f22; /* citron */
  --primary: #ba4353; /* bittersweet shimmer */
  --copper:  #d0a583; /* light french beige */


  --gradA: #ba4353; /* bittersweet shimmer */
  --gradB: #ad9f22; /* citron */
}

/* -----------------------------
   Theme (palette only) — applies mainly to DARK mode
------------------------------ */
:root[data-mode="dark"][data-theme="plumbutter"]{
  --primary: #F3D36B;
  --primary2: #7A2F5B;
  --plum: #3b1530;
  --copper: #C88A5A;
}

:root[data-mode="dark"][data-theme="pomegranate"]{
  --primary: #B3122A;
  --primary2: #DB4E48;
  --plum: #4A0E1E;
  --copper: #D19A6A;
}

:root[data-mode="dark"][data-theme="winesmoke"]{
  --primary: #8D1618;
  --primary2: #5A1A2C;
  --plum: #2E0F1D;
  --copper: #A8896A;
}

/* -----------------------------
   Scroll offset for sticky nav
------------------------------ */
section[id]{
  scroll-margin-top: calc(var(--navH) + 20px);
}

/* -----------------------------
   Reset / base
------------------------------ */
*{ box-sizing: border-box; }

html{
  scroll-behavior: smooth;
  scrollbar-gutter: stable;
}

body{
  margin: 0;
  position: relative;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* DARK default background */
  background:
    radial-gradient(circle at 18% 12%, color-mix(in srgb, var(--copper) 18%, transparent), transparent 54%),
    radial-gradient(circle at 82% 18%, color-mix(in srgb, var(--plum) 14%, transparent), transparent 58%),
    linear-gradient(135deg, var(--bg2), var(--bg));
}

/* LIGHT background tuned to lotus palette */
:root[data-mode="light"] body{
  background:
    /* warm paper glow */
    radial-gradient(circle at 12% 18%, rgba(208,165,131,0.48), transparent 52%),
    /* bittersweet bloom */
    radial-gradient(circle at 82% 22%, rgba(186,67,83,0.20), transparent 58%),
    /* citron lift */
    radial-gradient(circle at 64% 10%, rgba(173,159,34,0.20), transparent 55%),
    /* olive grounding vignette */
    radial-gradient(circle at 50% 92%, rgba(95,78,52,0.16), transparent 58%),
    /* base paper */
    linear-gradient(135deg, var(--bg2), var(--bg));
}

a{ color: inherit; text-decoration: none; }
button{ font-family: inherit; }
img{ max-width: 100%; display: block; }

/* -----------------------------
   Optional: subtle grain in light mode
------------------------------ */
:root[data-mode="light"] body::before{
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(circle at 10% 20%, rgba(0,0,0,0.018), transparent 40%),
    radial-gradient(circle at 80% 30%, rgba(0,0,0,0.018), transparent 45%),
    repeating-linear-gradient(
      0deg,
      rgba(0,0,0,0.010),
      rgba(0,0,0,0.010) 1px,
      transparent 1px,
      transparent 3px
    );
  opacity: 0.30;
}

/* Ensure your app content sits above the grain */
.appRoot, .main, .container{
  position: relative;
  z-index: 1;
}

/* -----------------------------
   Lightbox
------------------------------ */
.lightboxBackdrop{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  backdrop-filter: blur(6px);
}

:root[data-mode="dark"] .lightboxBackdrop{ background: rgba(0,0,0,0.65); }
:root[data-mode="light"] .lightboxBackdrop{ background: rgba(10,10,10,0.55); }

.lightboxImage{
  max-width: min(100%, 1100px);
  max-height: 85vh;
  border-radius: 14px;
  object-fit: contain;
  box-shadow: 0 30px 80px rgba(0,0,0,0.5);
}

:root[data-mode="light"] .lightboxImage{
  box-shadow: 0 30px 80px rgba(0,0,0,0.22);
}

/* -----------------------------
   Accessibility: reduce motion
------------------------------ */
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior: auto; }
  *{
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}